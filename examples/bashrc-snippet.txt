# --- Modular MOTD Health Integration ---
# Render the pre-computed system health state on login.
# Logic is handled by systemd timers to ensure sub-second login times.

if [[ -f /usr/local/bin/render-motd.sh && -t 0 ]]; then
    if [[ -d /run/motd-health ]]; then
        /usr/local/bin/render-motd.sh
    else
        echo -e "\e[1;33m[ WARN ]\e[0m Health state directory /run/motd-health/ missing."
        echo -e "         Run 'systemctl start motd-health.service' to initialize."
    fi
fi